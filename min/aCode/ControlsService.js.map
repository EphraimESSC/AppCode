{"version":3,"file":"ControlsService.js","sources":["../Components/ControlsService.js"],"names":["ControlsService","$timeout","FieldsGeneratorService","DBService","createList","listName","content","sectionType","angular","isUndefined","emptyContent","type","_","pluck","serviceValues","lists","indexOf","console","log","list","controls","section","push","selected","persistData","setSelectedList","index","length","listIndex","setSelecedListName","getSelectedList","key","itemKey","undefined","serviceValuesKey","allKeys","$","indexedDB","dbName","objectStore","dataStoreName","get","then","obj","newVal","forEach","v","i","put","val","err","e","es","getControls","getSelected","scanAndUpdateDuplicateIds","data","childNodeAttr","isArray","isDefined","properties","id","listOfControlIds","currentItemIndex","fieldsInfo","fieldInfoToUpdate","filter","fieldPath","fieldValue","removeIdsFromCacheList","indexOfId","splice","updateControlsId","isIdUpdated","getChildNodeAttr","sectionInfo","updateChildInfo","nodeData","childLabel","createNewItem","newItem","addNewSubItem","label","generate","extend","getStructure","legend","text","heading","item","isContainer","controlType","containersArray","getServiceValues","fetchServiceValues","getValue","setSelectedItemScope","itemScope","selectedItemScope","getSelectedItemScope","duplicateSelectedItem","clone","copy","$modelValue","$parentNodeScope","enhanceWithin","removeList","deleteDB","deleteDatabase","service","zone","children","categorieschildren","schema","1","versionTransaction","appStore","createObjectStore","autoIncrement","createIndex","done","isNumber","isNaN","focus","diagnose","categories","personalData","module","$inject"],"mappings":"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"}